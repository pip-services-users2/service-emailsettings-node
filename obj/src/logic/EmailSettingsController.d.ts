import { ConfigParams } from 'pip-services3-commons-nodex';
import { IConfigurable } from 'pip-services3-commons-nodex';
import { IReferences } from 'pip-services3-commons-nodex';
import { IReferenceable } from 'pip-services3-commons-nodex';
import { ICommandable } from 'pip-services3-commons-nodex';
import { CommandSet } from 'pip-services3-commons-nodex';
import { EmailSettingsV1 } from '../data/version1/EmailSettingsV1';
import { IEmailSettingsController } from './IEmailSettingsController';
export declare class EmailSettingsController implements IConfigurable, IReferenceable, ICommandable, IEmailSettingsController {
    private static _emailRegex;
    private static _defaultConfig;
    private _verifyOnCreate;
    private _verifyOnUpdate;
    private _expireTimeout;
    private _magicCode;
    private _config;
    private _dependencyResolver;
    private _templatesResolver;
    private _logger;
    private _activitiesClient;
    private _emailClient;
    private _persistence;
    private _commandSet;
    private _code_length;
    configure(config: ConfigParams): void;
    setReferences(references: IReferences): void;
    getCommandSet(): CommandSet;
    private settingsToPublic;
    getSettingsByIds(correlationId: string, recipientIds: string[]): Promise<EmailSettingsV1[]>;
    getSettingsById(correlationId: string, recipientId: string): Promise<EmailSettingsV1>;
    getSettingsByEmail(correlationId: string, email: string): Promise<EmailSettingsV1>;
    private verifyAndSaveSettings;
    private sendVerificationMessage;
    setSettings(correlationId: string, settings: EmailSettingsV1): Promise<EmailSettingsV1>;
    setVerifiedSettings(correlationId: string, settings: EmailSettingsV1): Promise<EmailSettingsV1>;
    setRecipient(correlationId: string, recipientId: string, name: string, email: string, language: string): Promise<EmailSettingsV1>;
    setSubscriptions(correlationId: string, recipientId: string, subscriptions: any): Promise<EmailSettingsV1>;
    deleteSettingsById(correlationId: string, recipientId: string): Promise<void>;
    resendVerification(correlationId: string, recipientId: string): Promise<void>;
    private logActivity;
    verifyEmail(correlationId: string, recipientId: string, code: string): Promise<void>;
}
